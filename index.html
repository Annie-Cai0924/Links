<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AreNa</title>
    <script src="./asset/lib/gsap.min.js"></script>
    <script src="./asset/lib/Rx.min.js"></script>
    <script src="./asset/aat.min.js"></script>
    <link rel="stylesheet" href="./asset/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
</head>
<body>
    <svg id="stage" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2;" ></svg>
    <div class="wrap">

        <div class="row">
            <div class="block b1">
                <div class="title">The Art and Function of</div>
                <div class="contentmap">
                    <div class="letter-m"></div>
                    <div class="letter-a"></div>
                    <div class="letter-p"></div>
                    <div class="letter-s"></div>
                </div>
            <div class="block b2">
                <div class="desc">
                    Maps are more than navigational tools—they are stories of exploration, representation, and imagination. This collection delves into the diverse world of maps, from ancient cartography to modern data visualizations. It highlights how maps shape our understanding of space, identity, and history while showcasing artistic, functional, and speculative approaches to mapping.
                </div>
                <div id="stats">
                    <h1>Select an area</h1>
                    <a id="map-link" target="_blank" href="https://www.google.ca/maps/place/27.98785,86.9250261">Map</a>    
                    <form>
                        <select name="geo" aria-label="Choose the area">
                        <option value="athabasca">Athabasca Glacier</option>
                        <option value="coldeliseran">Col de l'Iseran</option>
                        <option value="everest" selected="">Mount Everest</option>
                        <option value="franzjosefglacier">Franz Josef Glacier</option>
                        <option value="grouse">Grouse Grind</option>
                        <option value="jotunheimen">Jotunheimen</option>
                        <option value="k2">K2</option>
                        <option value="kangchenjunga">Kangchenjunga</option>
                        <option value="everest-valley">Khumbu Glacier</option>
                        <option value="lakecomo">Lake Como</option>
                        <option value="petra">Petra</option>
                        <option value="sanfrancisco">San Francisco</option>
                        <option value="valparaiso">Valparaíso</option>
                        </select>
                    </form> 
                    <span id="loading"></span>
                </div>
                <div id="viewport"></div>
            </div>
        </div>
    </div>
    <script src="./asset/lib/three.min.js"></script>
    <script src="./asset/lib/TweenMax.min.js"></script>
    <script src="./asset/lib/OrbitControls.js"></script>
    <script src="./asset/arena.js"></script>
    <script src="./asset/script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Make only the first two blocks visible initially
            setTimeout(function() {
                const blocks = document.querySelectorAll('.block.b1, .block.b2');
                blocks.forEach(block => {
                    block.classList.add('visible');
                });
            }, 500);

            // Setup visibility check for scrolling - only for the first two blocks
            function checkVisibility() {
                const blocks = document.querySelectorAll('.block.b1, .block.b2');
                const viewportHeight = window.innerHeight;
                
                blocks.forEach(block => {
                    const blockTop = block.getBoundingClientRect().top;
                    if (blockTop < viewportHeight + 200 && blockTop > -block.offsetHeight) {
                        block.classList.add('visible');
                    } else {
                        block.classList.remove('visible');
                    }
                });
            }

            window.addEventListener('scroll', checkVisibility);
            window.addEventListener('resize', checkVisibility);

            // Initial check
            checkVisibility();
        });
    </script>
    
    <footer>               
         <div class="links">
        <div class="l">Design by Yaxuan</div>
        <div class="r">Collected by Bhakti</div>
    </div>
    <div class="last">
        <a id="channel-link" target="_blank">See on Are.na ↗</a>
    </div>
</div>
    </footer>

</body>
</html>